<div id="resumeCreate" class="page">
  <div fxLayout="row" fxLayoutAlign="start start">
    <button (click)="listResume()" color="primary" mat-button>
      <mat-icon> chevron_left </mat-icon>
    </button>
    <h2>{{'resumes.name' | translate}}</h2>

  </div>

  <div fxLayout="row" class="tab" fxLayoutGap="16px">
    <div (click)="handleStep(1)" fxLayout="column" class="tab-group" [ngClass]="{ done: step > 0, active: step == 1 }">
      <p class="tab-item">{{'resumes.register' | translate}}</p>
      <span class="tab-border"></span>
    </div>
    <div (click)="handleStep(2)" fxLayout="column" class="tab-group" [ngClass]="{ done: step > 1, active: step == 2 }">
      <p class="tab-item">{{'generic.education.name' | translate}}</p>
      <span class="tab-border"></span>
    </div>
    <div (click)="handleStep(3)" fxLayout="column" class="tab-group" [ngClass]="{ done: step > 2, active: step == 3 }">
      <p class="tab-item">{{'resumes.resume_experience.name' | translate}}</p>
      <span class="tab-border"></span>
    </div>
    <div (click)="handleStep(4)" fxLayout="column" class="tab-group" [ngClass]="{ done: step > 3, active: step == 4 }">
      <p class="tab-item">{{'generic.skills.name' | translate}}</p>
      <span class="tab-border"></span>
    </div>

    <div *ngIf="resumeId !== 'novo'" (click)="handleStep(5)" fxLayout="column" class="tab-group"
      [ngClass]="{ done: step > 4, active: step == 5 }">
      <p class="tab-item">{{'resumes.resume_application.name' | translate}}</p>
      <span class="tab-border"></span>
    </div>

    <div *ngIf="resumeId !== 'novo'" fxLayout="column" class="tab-group disabled"
      [ngClass]="{ done: step > 5, active: step == 6 }">
      <p class="tab-item">{{'generic.accompaniment' | translate}}</p>
      <span class="tab-border"></span>
    </div>
  </div>

  <app-resume-register-tab [hidden]="step != 1" [form]="resumeForm" (onChange)="handleChanges($event)">
  </app-resume-register-tab>
  <app-resume-education-tab [hidden]="step != 2" (onChange)="handleChanges($event)">
  </app-resume-education-tab>
  <app-resume-experience-tab [hidden]="step != 3" (onChange)="handleChanges($event)"></app-resume-experience-tab>
  <app-resume-skills-tab [hidden]="step != 4" (onChange)="handleChanges($event)">
  </app-resume-skills-tab>
  <app-resume-application-tab *ngIf="resumeId !== 'novo'" [hidden]="step != 5" [form]="resumeForm"
    (onChange)="handleChanges($event)">
  </app-resume-application-tab>
  <app-resume-monitoring-tab *ngIf="resumeId !== 'novo'" [hidden]="step != 6">
  </app-resume-monitoring-tab>

  <div class="navigation-buttons" fxLayoutAlign="center end" fxLayoutGap="16px" *ngIf="resumeId === 'novo'">
    <button mat-button *ngIf="step != 1" (click)="navigate('back')">
      {{'generic.back_button' | translate}}
    </button>
    <button mat-flat-button *ngIf="step !== 1 && step !== 4" (click)="navigate('next')" color="primary">
      {{'generic.continue_button' | translate}}
    </button>
    <button mat-flat-button *ngIf="step === 1" (click)="saveResume()" color="primary">
      {{'generic.save_button' | translate}}
    </button>
  </div>
  <div class="navigation-buttons" fxLayoutAlign="center end" fxLayoutGap="16px" *ngIf="resumeId !== 'novo'">

    <button mat-button *ngIf="step != 1" (click)="navigate('back')">
      {{'generic.back_button' | translate}}
    </button>

    <button mat-flat-button *ngIf="step !== 1 && step !== 5" (click)="navigate('next')" color="primary">
      {{'generic.continue_button' | translate}}
    </button>

    <button mat-flat-button *ngIf="step === 1" (click)="saveEditResume()" color="primary">
      {{'generic.save_button' | translate}}
    </button>
    <button class="table-button" mat-button (click)="pdfDownload()">
      <mat-icon>
        cloud_download</mat-icon>
    </button>
  </div>
</div>