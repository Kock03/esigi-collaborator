<div id="jobSkillTab" class="tab">
  <div class="content-scroll" *ngIf="jobForm">
    <mat-tab-group animationDuration="0">
      <mat-tab label="Escolaridade">
        <div fxLayout="column">
          <div fxFlex="100" fxLayoutGap="16px" [formGroup]="jobForm">
            <mat-form-field  fxFlex="100" appearance="outline" style="padding-top:30px">
              <mat-label>{{'generic.education.schooling.name' | translate}}</mat-label>
              <mat-select matInput disableRipple formControlName="schooling">
                <mat-option [value]="1">{{'job.job_create.skills.schooling.complete_higher_education' | translate}}
                </mat-option>
                <mat-option [value]="2">{{'job.job_create.skills.schooling.incomplete_higher_education' | translate}}
                </mat-option>
                <mat-option [value]="3">{{'job.job_create.skills.schooling.complete_high_school' | translate}}
                </mat-option>
              </mat-select>
            </mat-form-field>
          </div>
        </div>

        <div class="envolti-table mat-elevation-z8" fxLayout="column" fxFlex="100">
          <table mat-table [dataSource]="dataLanguage" #languageTable>
            <ng-container matColumnDef="languageName">
              <th mat-header-cell *matHeaderCellDef>Idioma</th>
              <td mat-cell *matCellDef="let language">
                {{ language.language_name }}
              </td>
            </ng-container>
            <ng-container matColumnDef="degreeOfInfluence">
              <th mat-header-cell *matHeaderCellDef>Grau de Fluência</th>
              <td mat-cell *matCellDef="let language">
                {{getLabel('degreeOfInfluence', language)}}
              </td>
            </ng-container>
            <ng-container matColumnDef="icon">
              <th mat-header-cell *matHeaderCellDef>
                <button class="edit-button" mat-flat-button color="primary" (click)="openDialogLanguage()">
                  <mat-icon>add</mat-icon>
                </button>
              </th>
              <th mat-header-cell *matHeaderCellDef></th>
              <td class="button-tab" mat-cell *matCellDef="let language">
                <button class="table-button" mat-button (click)="getLanguage(language, language.id)">
                  <mat-icon>edit</mat-icon>
                </button>
                <button class="table-button" mat-button (click)="deleteLanguage(language.id)">
                  <mat-icon>delete</mat-icon>
                </button>
              </td>
            </ng-container>
            <tr mat-header-row *matHeaderRowDef="displayedColumnsLanguages; sticky: true"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumnsLanguages"></tr>
          </table>
        </div>
      </mat-tab>
      <mat-tab label="Competências">
        <div fxFlex="100" fxLayoutGap="16px" style="padding-top:30px" [formGroup]="jobForm">
          <mat-form-field fxFlex="70" appearance="outline">
            <mat-label>{{'job.job_create.skills.collaborator_activities' | translate}}</mat-label>
            <textarea class="text-area" matInput placeholder="Atividades"
              formControlName="collaboratorActivities"></textarea>
          </mat-form-field>
          <mat-form-field fxFlex="70" appearance="outline">
            <mat-label>Conhecimentos</mat-label>
            <textarea class="text-area" matInput placeholder="Conhecimentos" formControlName="acquirements"></textarea>
          </mat-form-field>
        </div>
        <div fxFlex="100" fxLayoutGap="16px" style="padding-top:30px" [formGroup]="jobForm">
          <mat-form-field fxFlex="70" appearance="outline">
            <mat-label>{{'job.job_create.skills.desired_experience' | translate}}</mat-label>
            <textarea class="text-area" matInput placeholder="Habilidades" formControlName="skills"></textarea>
          </mat-form-field>
          <mat-form-field fxFlex="70" appearance="outline">
            <mat-label>{{'job.job_create.skills.required_behavior' | translate}}</mat-label>
            <textarea class="text-area" matInput placeholder="Atitudes" formControlName="attitudes"></textarea>
          </mat-form-field>
        </div>
        <div class="envolti-table mat-elevation-z8" fxLayout="column" fxFlex="100">
          <table mat-table [dataSource]="data" #knowledgeTable>
            <ng-container matColumnDef="name">
              <th mat-header-cell *matHeaderCellDef>Tecnologia</th>
              <td mat-cell *matCellDef="let knowledge">
                {{ knowledge.name }}
              </td>
            </ng-container>
            <ng-container matColumnDef="yearsExperience">
              <th mat-header-cell *matHeaderCellDef>Tempo de experiencia</th>
              <td mat-cell *matCellDef="let knowledge" style="padding-left: 45px;">
                {{ knowledge.years_experience }}
              </td>
            </ng-container>
            <ng-container matColumnDef="typeOfPeriod">
              <th mat-header-cell *matHeaderCellDef>Periodo</th>
              <td mat-cell *matCellDef="let knowledge">
                {{ knowledge.type_of_period !== 2 ? 'Mês' : 'Ano' }}
              </td>
            </ng-container>
            <ng-container matColumnDef="icon">
              <th mat-header-cell *matHeaderCellDef>
                <button class="button-tab" mat-flat-button color="primary" (click)="openDialog()">
                  <mat-icon>add</mat-icon>
                </button>
              </th>
              <th mat-header-cell *matHeaderCellDef></th>
              <td class="button-tab" mat-cell *matCellDef="let Knowledge">
                <button class="table-button" mat-button (click)="getKnowledge(Knowledge, Knowledge.id)">
                  <mat-icon>edit</mat-icon>
                </button>
                <button class="table-button" mat-button (click)="deleteKnowledge( Knowledge.id)">
                  <mat-icon>delete</mat-icon>
                </button>
              </td>
            </ng-container>
            <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
          </table>
        </div>
      </mat-tab>
    </mat-tab-group>
  </div>
</div>