<div id="jobInterview" class="page">
  <div class="content-scroll">
    <div
      fxLayout="row"
      fxLayoutAlign="space-around center"
      fxLayoutAlign="start start"
    >
      <button (click)="backToList()" color="primary" mat-button>
        <mat-icon> chevron_left </mat-icon>
      </button>
      <h2>{{'job.job_interview_create.name' | translate}}</h2>
    </div>
    <mat-tab-group animationDuration="0ms" [selectedIndex]="selectedIndex">
      <mat-tab label="Entevista Comportamental">
        <form
          [formGroup]="behavioralInterviewForm"
          fxLayout="column"
          class="form"
        >
          <div fxFlex="100" fxLayoutGap="16px">
            <mat-form-field fxFlex="35" appearance="outline">
              <mat-label>{{'job.job_interview_create.name_candidate' | translate}}</mat-label>
              <input
                placeholder="Nome do Candidato"
                matInput
                formControlName="nameCandidate"
                type="text"
              />
            </mat-form-field>

            <mat-form-field fxFlex="35" appearance="outline">
              <mat-label>{{'job.job_interview_create.tech_recruter' | translate}}</mat-label>
              <input matInput formControlName="techRecruter" />
            </mat-form-field>

            <mat-form-field fxFlex="30" appearance="outline">
              <mat-label>{{'job.job_interview_create.interview_date' | translate}}</mat-label>
              <input
                matInput
                [matDatepicker]="behavioralDate"
                formControlName="behavioralInterviewDate"
              />
              <mat-datepicker-toggle
                matSuffix
                [for]="behavioralDate"
              ></mat-datepicker-toggle>
              <mat-datepicker #behavioralDate></mat-datepicker>
            </mat-form-field>
          </div>
          <div fxFlex="100" fxLayoutGap="16px">
            <mat-form-field fxFlex="20" appearance="outline">
              <mat-label>{{'job.job_interview_create.hour_interview' | translate}}</mat-label>
              <input matInput formControlName="hourInterview" mask="00:00" />
            </mat-form-field>

            <mat-form-field fxFlex="40" appearance="outline">
              <mat-label>{{'job.job_interview_create.punctuality.name' | translate}}</mat-label>
              <mat-select matInput disableRipple formControlName="punctuality">
                <mat-option [value]="1">{{'job.job_interview_create.punctuality.one_off' | translate}}</mat-option>
                <mat-option [value]="2">{{'job.job_interview_create.punctuality.late_5_minutes' | translate}}</mat-option>
                <mat-option [value]="3">{{'job.job_interview_create.punctuality.more_than_5_minutes_late' | translate}}</mat-option>
                <mat-option [value]="4">{{'job.job_interview_create.punctuality.did_not_attend' | translate}}</mat-option>
              </mat-select>
            </mat-form-field>

            <mat-form-field fxFlex="40" appearance="outline">
              <mat-label>{{'job.job_interview_create.presentation.name' | translate}}</mat-label>
              <mat-select matInput disableRipple formControlName="presentation">
                <mat-option [value]="1">{{'job.job_interview_create.presentation.presentable' | translate}}</mat-option>
                <mat-option [value]="2">{{'job.job_interview_create.presentation.unpresentable' | translate}}</mat-option>
              </mat-select>
            </mat-form-field>
          </div>

          <div fxFlex="100" fxLayoutGap="16px">
            <mat-form-field fxFlex="30" appearance="outline">
              <mat-label>{{'job.job_interview_create.salary_expectation' | translate}}</mat-label>
              <input matInput formControlName="salaryExpectation" />
            </mat-form-field>

            <div class="checkbox-section" fxFlex="70">
              <section fxLayout="column">
                <span class="text" fxLayoutAlign="start"
                  >{{'job.job_interview_create.hiring_preference' | translate}}</span
                >
                <div
                  fxLayout="row"
                  fxLayoutAlign="space-around"
                  formGroupName="hiringPreference"
                >
                  <mat-checkbox color="primary" formControlName="intern"
                    >{{'generic.intern' | translate}}</mat-checkbox
                  >

                  <mat-checkbox color="primary" formControlName="naturalPerson"
                    >{{'generic.clt' | translate}}</mat-checkbox
                  >

                  <mat-checkbox color="primary" formControlName="legalPerson"
                    >{{'generic.pj' | translate}}</mat-checkbox
                  >

                  <mat-checkbox color="primary" formControlName="cooperative"
                    >{{'generic.cooperated' | translate}}</mat-checkbox
                  >
                </div>
              </section>
            </div>
          </div>
          <div fxFlex="100" fxLayoutGap="16px">
            <mat-form-field fxFlex="50" appearance="outline">
              <mat-label>{{'job.job_interview_create.behavioral_evaluation' | translate}}</mat-label>
              <textarea
                class="text-area"
                matInput
                placeholder="Avaliação Comportamental"

                formControlName="behavioralAssessment"
              ></textarea>

            </mat-form-field>
            <mat-form-field fxFlex="50" appearance="outline">
              <mat-label>{{'job.job_interview_create.comments' | translate}}</mat-label>
              <textarea
                class="text-area"
                matInput
                placeholder="Observações"
                formControlName="comments"
              ></textarea>

            </mat-form-field>
          </div>
          <div fxFlex="100" fxLayoutGap="16px">
            <mat-form-field fxFlex="40" appearance="outline">
              <mat-label>{{'job.job_interview_create.situational.name' | translate}}</mat-label>
              <mat-select matInput disableRipple formControlName="situational">
                <mat-option [value]="1">{{'job.job_interview_create.situational.okay' | translate}}</mat-option>
                <mat-option [value]="2"> {{'job.job_interview_create.situational.approved_with_reservations' | translate}}</mat-option>
                <mat-option [value]="3">{{'job.job_interview_create.situational.disapproved' | translate}}</mat-option>
                <mat-option [value]="4">{{'job.job_interview_create.situational.failed_with_reservations' | translate}}</mat-option>
              </mat-select>
            </mat-form-field>

            <mat-form-field fxFlex="40" appearance="outline">
              <mat-label>{{'job.job_interview_create.availability_of_initialize' | translate}}</mat-label>
              <input matInput formControlName="availabilityOfInitialize" />
            </mat-form-field>
            <div fxLayoutAlign="center" fxFlex="20">
              <button
                mat-flat-button
                color="primary"
                class="save-button"
                (click)="handleInterviews('behavioral')"
                [disabled]="behavioralInterviewForm.invalid"
              >
              {{'generic.save_button' | translate}}
              </button>
            </div>
          </div>
        </form>
      </mat-tab>

      <mat-tab label="Entevista Técnica">
        <form
          [formGroup]="technicalInterviewForm"
          fxLayout="column"
          class="form"
        >
          <div fxFlex="100" fxLayoutGap="16px">
            <mat-form-field fxFlex="35" appearance="outline">
              <mat-label>{{'job.job_interview_create.name_candidate' | translate}}</mat-label>
              <input
                placeholder="Nome do Candidato"
                matInput
                formControlName="nameCandidate"
                type="text"
              />
            </mat-form-field>

            <mat-form-field fxFlex="35" appearance="outline">
              <mat-label>{{'job.job_interview_create.evaluator' | translate}}</mat-label>
              <input matInput formControlName="evaluator" />
            </mat-form-field>

            <mat-form-field fxFlex="30" appearance="outline">
              <mat-label>{{'job.job_interview_create.interview_date' | translate}}</mat-label>
              <input
                matInput
                [matDatepicker]="technicalDate"
                formControlName="technicalInterviewDate"
              />
              <mat-datepicker-toggle
                matSuffix
                [for]="technicalDate"
              ></mat-datepicker-toggle>
              <mat-datepicker #technicalDate></mat-datepicker>
            </mat-form-field>
          </div>
          <div fxFlex="100" fxLayoutGap="16px">
            <mat-form-field fxFlex="50" appearance="outline">
              <mat-label>{{'job.job_interview_create.hour_interview' | translate}}</mat-label>
              <input matInput formControlName="hourInterview" mask="00:00" />
            </mat-form-field>

            <mat-form-field fxFlex="50" appearance="outline">
              <mat-label>{{'job.job_interview_create.punctuality.name' | translate}}</mat-label>
              <mat-select matInput disableRipple formControlName="punctuality">
                <mat-option [value]="1">{{'job.job_interview_create.punctuality.one_off' | translate}}</mat-option>
                <mat-option [value]="2">{{'job.job_interview_create.punctuality.late_5_minutes' | translate}}</mat-option>
                <mat-option [value]="3">{{'job.job_interview_create.punctuality.more_than_5_minutes_late' | translate}}</mat-option>
                <mat-option [value]="4">{{'job.job_interview_create.punctuality.did_not_attend' | translate}}</mat-option>
              </mat-select>
            </mat-form-field>
          </div>

          <div fxFlex="100" fxLayoutGap="16px">
            <mat-form-field fxFlex="50" appearance="outline">
              <mat-label>{{'job.job_interview_create.technical_evaluation' | translate}}</mat-label>
              <textarea
                class="text-area"
                matInput
                placeholder="Avaliação Técnica"
                formControlName="technicalEvaluation"
              ></textarea>
            </mat-form-field>
            <mat-form-field fxFlex="50" appearance="outline">
              <mat-label>{{'job.job_interview_create.comments' | translate}}</mat-label>
              <textarea
                class="text-area"
                matInput
                placeholder="Observações"
                formControlName="comments"
              ></textarea>
            </mat-form-field>
          </div>
          <div fxFlex="100" fxLayoutGap="16px">
            <mat-form-field fxFlex="40" appearance="outline">
              <mat-label>{{'job.job_interview_create.situational.name' | translate}}</mat-label>
              <mat-select matInput disableRipple formControlName="situational">
                <mat-option [value]="1">{{'job.job_interview_create.situational.okay' | translate}}</mat-option>
                <mat-option [value]="2">{{'job.job_interview_create.situational.approved_with_reservations' | translate}}</mat-option>
                <mat-option [value]="3">{{'job.job_interview_create.situational.disapproved' | translate}}</mat-option>
                <mat-option [value]="4">{{'job.job_interview_create.situational.failed_with_reservations' | translate}}</mat-option>
              </mat-select>
            </mat-form-field>

            <div class="job-checkbox" fxFlex="40" fxLayoutAlign="center">
              <mat-checkbox color="primary" formControlName="jobProfile"
                >{{'job.job_interview_create.job_profile' | translate}}</mat-checkbox
              >
            </div>

            <div fxLayoutAlign="center" fxFlex="20">
              <button
                mat-flat-button
                color="primary"
                class="save-button"
                (click)="handleInterviews('technical')"
                [disabled]="technicalInterviewForm.invalid"
              >
              {{'generic.save_button' | translate}}
              </button>
            </div>
          </div>
        </form>
      </mat-tab>

      <mat-tab label="Entevista Cliente">
        <form [formGroup]="clientInterviewForm" fxLayout="column" class="form">
          <div fxFlex="100" fxLayoutGap="16px">
            <mat-form-field fxFlex="35" appearance="outline">
              <mat-label>{{'job.job_interview_create.name_candidate' | translate}}</mat-label>
              <input
                placeholder="Nome do Candidato"
                matInput
                formControlName="nameCandidate"
                type="text"
              />
            </mat-form-field>

            <mat-form-field fxFlex="35" appearance="outline">
              <mat-label>{{'job.job_interview_create.evaluator' | translate}}</mat-label>
              <input matInput formControlName="evaluator" />
            </mat-form-field>

            <mat-form-field fxFlex="30" appearance="outline">
              <mat-label>{{'job.job_interview_create.interview_date' | translate}}</mat-label>
              <input
                matInput
                [matDatepicker]="clientDate"
                formControlName="clientInterviewDate"
              />
              <mat-datepicker-toggle
                matSuffix
                [for]="clientDate"
              ></mat-datepicker-toggle>
              <mat-datepicker #clientDate></mat-datepicker>
            </mat-form-field>
          </div>
          <div fxFlex="100" fxLayoutGap="16px">
            <mat-form-field fxFlex="50" appearance="outline">
              <mat-label>{{'job.job_interview_create.hour_interview' | translate}}</mat-label>
              <input matInput formControlName="hourInterview" mask="00:00" />
            </mat-form-field>

            <mat-form-field fxFlex="50" appearance="outline">
              <mat-label>{{'job.job_interview_create.punctuality.name' | translate}}</mat-label>
              <mat-select matInput disableRipple formControlName="punctuality">
                <mat-option [value]="1">{{'job.job_interview_create.punctuality.one_off' | translate}}</mat-option>
                <mat-option [value]="2">{{'job.job_interview_create.punctuality.late_5_minutes' | translate}}</mat-option>
                <mat-option [value]="3">{{'job.job_interview_create.punctuality.more_than_5_minutes_late' | translate}}</mat-option>
                <mat-option [value]="4">{{'job.job_interview_create.punctuality.did_not_attend' | translate}}</mat-option>
              </mat-select>
            </mat-form-field>
          </div>

          <div fxFlex="100" fxLayoutGap="16px">
            <mat-form-field fxFlex="50" appearance="outline">
              <mat-label>{{'job.job_interview_create.technical_evaluation' | translate}}</mat-label>
              <textarea
                class="text-area"
                matInput
                placeholder="Avaliação Técnica"
                formControlName="technicalEvaluation"
              ></textarea>
            </mat-form-field>
            <mat-form-field fxFlex="50" appearance="outline">
              <mat-label>{{'job.job_interview_create.comments' | translate}}</mat-label>
              <textarea
                class="text-area"
                matInput
                placeholder="Observações"
                formControlName="comments"
              ></textarea>
            </mat-form-field>
          </div>
          <div fxFlex="100" fxLayoutGap="16px">
            <mat-form-field fxFlex="40" appearance="outline">
              <mat-label>{{'job.job_interview_create.situational.name' | translate}}</mat-label>
              <mat-select matInput disableRipple formControlName="situational">
                <mat-option [value]="1">{{'job.job_interview_create.situational.okay' | translate}}</mat-option>
                <mat-option [value]="2">{{'job.job_interview_create.situational.approved_with_reservations' | translate}}</mat-option>
                <mat-option [value]="3">{{'job.job_interview_create.situational.disapproved' | translate}}</mat-option>
                <mat-option [value]="4">{{'job.job_interview_create.situational.failed_with_reservations' | translate}}</mat-option>
              </mat-select>
            </mat-form-field>

            <div class="job-checkbox" fxFlex="40" fxLayoutAlign="center">
              <mat-checkbox color="primary" formControlName="jobProfile"
                >{{'job.job_interview_create.job_profile' | translate}}</mat-checkbox
              >
            </div>

            <div fxLayoutAlign="center" fxFlex="20">
              <button
                mat-flat-button
                color="primary"
                class="save-button"
                (click)="handleInterviews('client')"
                [disabled]="clientInterviewForm.invalid"
              >
              {{'generic.save_button' | translate}}
              </button>
            </div>
          </div>
        </form>
      </mat-tab>

      <mat-tab label="Devolutiva" *ngIf="this.interviewId !== 'novo'">
        <form [formGroup]="returnForm" fxLayout="column" class="form">
          <div fxFlex="100" fxLayoutGap="16px">
            <mat-form-field fxFlex="50" appearance="outline">
              <mat-label>{{'job.job_interview_create.name_candidate' | translate}}</mat-label>
              <input
                placeholder="Nome do Candidato"
                matInput
                formControlName="nameCandidate"
                type="text"
              />
            </mat-form-field>
            <mat-form-field fxFlex="50" appearance="outline">
              <mat-label>{{'job.job_interview_create.date_of_return' | translate}}</mat-label>
              <input
                matInput
                [matDatepicker]="dateOfReturn"
                formControlName="dateOfReturn"
              />
              <mat-datepicker-toggle
                matSuffix
                [for]="dateOfReturn"
              ></mat-datepicker-toggle>
              <mat-datepicker #dateOfReturn></mat-datepicker>
            </mat-form-field>
          </div>
          <div fxFlex="100" fxLayoutGap="16px">
            <mat-form-field fxFlex="50" appearance="outline">
              <mat-label>{{'job.job_interview_create.behavioral_evaluation' | translate}}</mat-label>
              <mat-select
                matInput
                disableRipple
                formControlName="behavioralEvaluation"
              >
                <mat-option [value]="1">{{'job.job_interview_create.situational.okay' | translate}}</mat-option>
                <mat-option [value]="2">{{'job.job_interview_create.situational.approved_with_reservations' | translate}}</mat-option>
                <mat-option [value]="3">{{'job.job_interview_create.situational.disapproved' | translate}}</mat-option>
                <mat-option [value]="4">{{'job.job_interview_create.situational.failed_with_reservations' | translate}}</mat-option>
              </mat-select>
            </mat-form-field>
            <mat-form-field fxFlex="50" appearance="outline">
              <mat-label>{{'job.job_interview_create.technical_evaluation' | translate}}</mat-label>
              <mat-select
                matInput
                disableRipple
                formControlName="technicalEvaluation"
              >
                <mat-option [value]="1">{{'job.job_interview_create.situational.okay' | translate}}</mat-option>
                <mat-option [value]="2">{{'job.job_interview_create.situational.approved_with_reservations' | translate}}</mat-option>
                <mat-option [value]="3">{{'job.job_interview_create.situational.disapproved' | translate}}</mat-option>
                <mat-option [value]="4">{{'job.job_interview_create.situational.failed_with_reservations' | translate}}</mat-option>
              </mat-select>
            </mat-form-field>
          </div>
          <div fxFlex="100" fxLayoutGap="16px">
            <mat-form-field fxFlex="50" appearance="outline">
              <mat-label>{{'job.job_interview_create.behavioral_evaluation' | translate}}</mat-label>
              <textarea
                class="text-area"
                matInput
                placeholder="Avaliação Comportamental"
                formControlName="behavioralEvaluationComent"
              ></textarea>
            </mat-form-field>
            <mat-form-field fxFlex="50" appearance="outline">
              <mat-label>{{'job.job_interview_create.technical_evaluation' | translate}}</mat-label>
              <textarea
                class="text-area"
                matInput
                placeholder="Avaliação Técnica"
                formControlName="technicalEvaluationComent"
              ></textarea>
            </mat-form-field>
          </div>
          <div fxFlex="100" fxLayoutGap="16px">
            <div class="job-checkbox" fxFlex="20" appearance="outline">
              <mat-checkbox color="primary" formControlName="returnOfCandidate"
                >{{'job.job_interview_create.return_of_candidate' | translate}}</mat-checkbox
              >
            </div>

            <mat-form-field fxFlex="20" appearance="outline">
              <mat-label>{{'generic.reason' | translate}}</mat-label>
              <mat-select matInput disableRipple formControlName="reason">
                <mat-option [value]="1">{{'job.job_interview_create.reason.wage' | translate}}</mat-option>
                <mat-option [value]="2">{{'job.job_interview_create.reason.hiring_model' | translate}}</mat-option>
              </mat-select>
            </mat-form-field>

            <mat-form-field fxFlex="30" appearance="outline">
              <mat-label>{{'job.job_interview_create.type_od_contract' | translate}}</mat-label>
              <mat-select
                matInput
                disableRipple
                formControlName="typeOdContract"
              >
                <mat-option [value]="1">{{'generic.clt' | translate}}</mat-option>
                <mat-option [value]="2">{{'generic.pj' | translate}}</mat-option>
                <mat-option [value]="3">{{'generic.cooperated' | translate}}</mat-option>
              </mat-select>
            </mat-form-field>
            <mat-form-field fxFlex="40" appearance="outline">
              <mat-label>{{'job.job_interview_create.combined_value' | translate}}</mat-label>
              <input
                placeholder="Valor"
                matInput
                formControlName="combinedValue"
                type="text"
              />
            </mat-form-field>
            <mat-form-field fxFlex="40" appearance="outline">
              <mat-label>{{'job.job_interview_create.initial_data' | translate}}</mat-label>
              <input
                matInput
                [matDatepicker]="initialData"
                formControlName="initialData"
              />
              <mat-datepicker-toggle
                matSuffix
                [for]="initialData"
              ></mat-datepicker-toggle>
              <mat-datepicker #initialData></mat-datepicker>
            </mat-form-field>

            <div fxLayoutAlign="center" fxFlex="20">
              <button
                mat-flat-button
                color="primary"
                class="save-button"
                (click)="saveReturns()"
                [disabled]="returnForm.invalid"
              >
              {{'generic.save_button' | translate}}
              </button>
            </div>
          </div>
          <div></div>
        </form>
      </mat-tab>
    </mat-tab-group>
  </div>
</div>
